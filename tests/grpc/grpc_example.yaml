server:
  host: 0.0.0.0
  port: 18080
  logLevel: drasi_server=info,drasi_core=warn
  disablePersistence: true
sources:
- kind: grpc
  id: facilities-db
  autoStart: true
  keepaliveIntervalSeconds: 10
  keepaliveTimeoutSeconds: 10
  host: 0.0.0.0
  port: 50051
  maxMessageSize: 8388608
  maxConnections: 100
queries:
- id: building-comfort
  query: |
    MATCH
      (r:Room)
    RETURN
      elementId(r) AS RoomId,
      r.temperature, r.humidity, r.co2
  sources:
  - source_id: facilities-db
  auto_start: true
reactions:
- kind: grpc
  id: rooms-grpc
  queries:
  - building-comfort
  autoStart: true
  endpoint: http://127.0.0.1:50052
  batchFlushTimeoutMs: 100
  compression: false
  batchSize: 1000
  keepalive:
    intervalSeconds: 10
    timeoutSeconds: 10
  metadata:
    x-api-key: test-key-12345
    x-client-id: drasi-test
  maxRetries: 3
  timeoutMs: 5000
  retryDelayMs: 500
  tls:
    enabled: false
