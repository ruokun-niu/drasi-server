# Copyright 2025 The Drasi Authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http:#www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Drasi Server Environment Configuration
# Copy this file to .env and customize for your deployment
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   make run
#
# These variables can be referenced in config files using ${VAR_NAME} syntax.
# See config/server-with-env-vars.yaml for examples.

# =============================================================================
# Server Settings
# =============================================================================

# Server bind address
SERVER_HOST=0.0.0.0

# Server API port
SERVER_PORT=8080

# Log level: trace, debug, info, warn, error
LOG_LEVEL=info

# Server identifier (for distributed deployments)
SERVER_ID=drasi-server-1

# =============================================================================
# PostgreSQL Connection (for postgres source)
# =============================================================================

# Database host (use 'postgres' when running with docker-compose)
POSTGRES_HOST=localhost

# Database port
POSTGRES_PORT=5432

# Database name
POSTGRES_DATABASE=drasi

# Database user
POSTGRES_USER=drasi_user

# Database password (REQUIRED - set this to a secure value)
POSTGRES_PASSWORD=changeme

# External port for direct PostgreSQL access (Docker only)
POSTGRES_EXTERNAL_PORT=5432

# =============================================================================
# HTTP Source Settings
# =============================================================================

# HTTP source bind address
WEBHOOK_HOST=0.0.0.0

# HTTP source port for receiving events
WEBHOOK_PORT=9000

# =============================================================================
# SSE Reaction Settings
# =============================================================================

# SSE server bind address
SSE_HOST=0.0.0.0

# SSE server port
SSE_PORT=8081

# =============================================================================
# HTTP Webhook Reaction Settings
# =============================================================================

# Webhook destination URL (for http reaction)
# WEBHOOK_URL=https://your-webhook-endpoint.com/events

# API token for webhook authentication
# API_TOKEN=your_api_token_here

# =============================================================================
# Logging
# =============================================================================

# Rust log filter (overrides LOG_LEVEL for fine-grained control)
# Examples:
#   RUST_LOG=debug
#   RUST_LOG=drasi_server=debug,drasi_lib=info
#   RUST_LOG=drasi_server::api=trace
# RUST_LOG=info

# Reaction log level (for log reaction)
REACTION_LOG_LEVEL=info
